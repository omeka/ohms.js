<!DOCTYPE html>
<html>
<head>
<script src="ohms.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Merriweather:ital,wght@0,400;0,700;1,400;1,700" rel="stylesheet">
<style>
body {
    font-family: Merriweather, Georgia, sans-serif;
    font-size: 14px;
    margin: 0;
}
blockquote {
    font-size: 15px;
    font-style: italic;
    padding: .25em 0 .25em .5em;
    border-left: 4px solid #ddd;
    margin: 0;
}
h1 {
    font-size: 1.4em;
}
#viewer {
    display: grid;
    justify-content: center;
    max-height: 100vh;
    max-width: 150ch;
    margin: 0 auto;
    gap: 1em;
    grid-template:
        "meta meta" min-content
        "player player" minmax(200px, 1fr)
        "transcript index" minmax(200px, 2fr) / 3fr 2fr;
}
#main-metadata {
    text-align: center;
    grid-area: meta;
}
#player {
    grid-area: player;
}
#transcript-window {
    grid-area: transcript;
}
#index {
    grid-area: index;
}
#transcript {
    position: relative;
    margin-left: 10ch;
}
#transcript .timestamp-link {
    position: absolute;
    left: -10ch;
}
#transcript .index-link {
    position: absolute;
    left: -1ch;
}

#transcript-window, #index {
    overflow-y: scroll;
    scroll-behavior: smooth;
    padding-right: 1em;
}
#transcript > :first-child, #index > :first-child {
    margin-top: 0;
}
#player iframe {
    display: block;
    aspect-ratio: 16/9;
    height: 100%;
    width: auto;
    margin: 0 auto;
}
.timestamp-link, .index-link {
    font-family: sans-serif;
}
.index-point {
    display: grid;
    grid-template-columns: 1fr auto;
    align-items: center;
    gap: .5em;
    margin: 1em 0;
}
.index-point > .index-partial-transcript, .index-point > .index-synopsis {
    grid-column: span 2;
}
.index-title {
    font-weight: bold;
}
</style>
</head>
<body>
    <div id="viewer">
        <div id="main-metadata"></div>
        <div id="player"></div>
        <div id="transcript-window">
            <div id="transcript"></div>
        </div>
        <div id="index"></div>
        </div>
    </div>
</body>
<script>
    let params = new URLSearchParams(window.location.search);
    main(params.get('cachefile'));
</script>
</html>
